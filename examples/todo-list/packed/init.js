iris.path={welcome:"app/screen/welcome.js",welcome_tmpl:"app/screen/welcome.html",todo_item:"app/ui/todo_item.js",todo_item_tmpl:"app/ui/todo_item.html"};$(document).ready(function(){iris.baseUri(iris.baseUri()+"examples/todo-list/");iris.welcome(iris.path.welcome)});iris.ui(function(a){function j(){a.setting("completed",!a.setting("completed"));a.get().toggleClass("completed");a.get("check").attr("checked",a.setting("completed"));a.notify("toggle-todo",a.setting("completed"))}function k(){a.notify("destroy-todo",a)}function m(d){a.setting("completed")!==d&&j()}function n(){a.setting("completed")&&k()}function f(d){var c=!0;switch(d){case "completed":c=a.setting("completed");break;case "active":c=!a.setting("completed")}c?a.show():a.hide()}function p(){a.get().addClass("editing");
a.get("text").select()}function q(){a.get().removeClass("editing");a.inflate({text:a.get("text").val()})}a.settings({completed:!1});a.create=function(){a.tmplMode(a.APPEND);a.tmpl(iris.path.todo_item_tmpl);a.get("check").on("click",j);a.get("destroy").on("click",k);a.on("set-all-todos",m);a.on("clear-completed",n);a.on("filter-todos",f);a.get().on("dblclick",p);a.get("text").on("change",q);a.get().hide().fadeIn("slow")}},iris.path.todo_item);iris.screen(function(a){function j(b){13===b.keyCode&&(b={text:d.val()},a.ui("todo-list",iris.path.todo_item).inflate(b),d.val(""),a.get("todo-count").text(++e),g++,f())}function k(b){b.setting("completed")||a.get("todo-count").text(--e);a.destroyUI(b);g--;f()}function m(b){b?a.get("todo-count").text(--e):a.get("todo-count").text(++e);f()}function n(a){"a"===a.target.nodeName.toLowerCase()&&($(".selected",r).each(function(){$(this).removeClass("selected")}),$(a.target).addClass("selected"))}function f(){0===
g?(c.hide(),a.get("footer").hide()):(c.show(),a.get("footer").show(),0===e&&h?(h=!1,c.attr("checked","checked")):e<=g&&!h&&(h=!0,c.removeAttr("checked")));var b=g-e;0<b?(l.text("Clear completed ("+b+")"),l.show()):l.hide()}function p(){a.notify("set-all-todos",h)}function q(){a.notify("clear-completed")}var d,c,l,e=0,g=0,h=!1,r;a.create=function(){a.tmpl(iris.path.welcome_tmpl);d=a.get("new-todo").on("keyup",j);c=a.get("toggle-all").on("click",p);l=a.get("clear-completed").on("click",q);r=a.get("filters").on("click",
n);a.on("destroy-todo",k);a.on("toggle-todo",m);f()};a.awake=function(b){void 0!==b&&b.hasOwnProperty("filter")&&a.notify("filter-todos",b.filter)}},iris.path.welcome);
iris.tmpl('app/ui/todo_item.html','<li><div class="view">  <input data-id="check" class="toggle" type="checkbox">  <label data-model="text"></label>    <button data-id="destroy" class="destroy"></button></div><input data-id="text" data-model="text" class="edit" value=""></li>');
iris.tmpl('app/screen/welcome.html','<div>  <section id="todoapp" class="filter-all">    <header id="header">      <h1>todos</h1>      <input data-id="new-todo" placeholder="What needs to be done?" autofocus="" class="new-todo">    </header>    <section id="main" style="display: block;">        <input data-id="toggle-all" type="checkbox" class="toggle-all">        <label for="toggle-all">Mark all as complete</label>        <ul id="todo-list" data-id="todo-list"></ul>    </section>        <footer data-id="footer" class="footer" style="display: block;">      <span id="todo-count">        <strong data-id="todo-count">0</strong>        <span class="todo-count-title">item</span> left      </span>      <ul data-id="filters" class="filters">        <li>          <a href="#?filter=all" class="selected">All</a>        </li>        <li>          <a href="#?filter=active">Active</a>        </li>        <li>          <a href="#?filter=completed">Completed</a>        </li>      </ul>      <button data-id="clear-completed" style="display: none;" class="clear-completed"></button>          </footer>  </section>  <footer id="info">    <p>Double-click to edit a todo</p>    <p>Port of the brunch <a href="http://todomvc.com/labs/dependency-examples/chaplin-brunch/public/">todos example</a> app</p>    <p>Part of <a href="http://github.com/iris-js/iris">iris-js</a></p>  </footer></div>');
